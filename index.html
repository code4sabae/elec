<!DOCTYPE html><html><head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-179125975-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-179125975-1');
</script>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<meta name="twitter:card" content="summary_large_image">
<meta property="og:image" content="https://elec.sabae.club/ogp2.jpg">
<meta name="twitter:image" content="https://elec.sabae.club/ogp2.jpg">
<meta property="og:title" content="鯖江市長候補者比較サイト - 鯖江市長選2020 オープンデータ">
<title>鯖江市長候補者比較サイト - 鯖江市長選2020 オープンデータ</title>
<style>
body {
  font-family: sans-serif;
  text-align: center;
}
h1 {
  font-size: 6vw;
  margin: .5vw;
  padding: 0;
}
h2 {
  margin: 1em 0 .5em 0;
  padding: 0;
}
table {
  border-collapse: separete;
  display: inline;
}
td {
  border: solid 1px gray;
  word-break: break-all;
  padding: .3em;
  text-align: center;
  width: 30%;
}
#movie {
  x-display: inline-block;
  x-width: 100vw;
  margin: 1em 0 1.5em 0;
  x-padding: 0.5em 2em;
  x-border: .5vw solid red;
}
#movie .file {
  vertical-align: top;
  display: inline-block;
  x-border: 1px solid black;
  width: 30vw;
}
#movie img, #movie iframe {
  width: 25vw;
  height: 15vw;
}
#q18 td {
  vertical-align: top;
  font-size: 85%;
  text-align: left;
}
#q18 th {
  font-size: 110%;
}
#q18 tr {
  overflow: hidden;
}
#imgpr {
  width: 80%;
}
#credit {
  margin: 1em;
}
</style>
</head>
<body>
<h1>鯖江市長候補者比較サイト</h1>

<h2>公開討論動画</h2>
<div id="movie">
  <div class="file">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/hWDcholg5jQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br>
    <a href="https://www.youtube.com/watch?v=hWDcholg5jQ#t=830" x-href="https://www.youtube.com/watch?v=hWDcholg5jQ">公開討論会</a> | <a href="https://oc-summit.jimdosite.com/%E6%9C%80%E6%96%B0%E6%83%85%E5%A0%B1/">ＯＣサミット実行委員会と有志の会</a>
  </div>
  <div class="file">
    <a href="https://www.fukui-tv.co.jp/?post_type=timely_opinion&p=132490&page=2"><img src="img/fukuitv.jpg"></a><br>
    <a href="https://www.fukui-tv.co.jp/?post_type=timely_opinion&p=132490&page=2">鯖江市長選へ3人討論 | オピニオントーク [これまでの放送] | タイムリーふくい | 福井テレビ</a>
  </div>
  <div class="file">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/gMHVGtRBMx8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br>
    <a href="https://www.youtube.com/watch?v=gMHVGtRBMx8&t=764s">鯖江市長選2020 公開討論会 | 鯖江市長選挙公開討論会実行委員会</a>
  </div>
</div>

<h2>オープンデータ</h2>
<div id="main"></div>

<script type="module">
(async () => {
  const url = "https://push.sabae.cc/386.json";
  const json = await (await fetch(url)).json();
  console.log(json);

  const view = ["プロフィール写真URL", "市長候補名", "キャッチフレーズ", "公式サイトURL", "ブログ", "YouTube", "Twitter", "Facebook", "Instagram", "職歴", "学歴", "出身地", "候補時年齢", "オープンデータ"];

  json.forEach(d => d.オープンデータ = "https://push.sabae.cc/" + d.id);
  json.forEach(d => d.候補時年齢 += "才");

  const link = (parent, name, link) => {
    link = link || "https://www.google.com/search?q=" + encodeURIComponent(name);
    const a = cr("a");
    a.textContent = name;
    a.href = link;
    a.target = "_blank";
    parent.appendChild(a);
  };
  const cr = tag => document.createElement(tag);

  const tbl = cr("table");
  main.appendChild(tbl);
  for (const v of view) {
    const tr = cr("tr");
    tbl.appendChild(tr);
    for (const data of json) {
      const td = cr("td");
      tr.appendChild(td);
      const val = data[v];
      if (val == null) {
        const div = cr("div");
        td.appendChild(div);
      } else if (val.endsWith(".jpg")) {
        td.style.height = "15vh";
        td.style.backgroundImage = `url(${val})`;
        td.style.backgroundSize = "auto 100%";
        td.style.backgroundRepeat = "no-repeat";
        td.style.backgroundPosition = "center center";
        td.onclick = () => {
          window.open(val, "_blank");
        };
      } else if (val.startsWith("http")) {
        link(td, v, val);
      } else {
        const vals = val.split("、");
        for (const i of vals) {
          const div = cr("div");
          link(div, i);
          td.appendChild(div);
        }
      }
    }
  }
})();
</script>

<h2>OCサミット実行委員会からの18の設問</h2>
<div id="q18"></div>

<script type="module">

import { CSV } from "https://code4sabae.github.io/js/CSV.js";

(async () => {
  const path = "data/question18.csv";
  const csv = await (await fetch(path)).text();
  const data = CSV.toJSON(CSV.decode(csv));
  console.log(data);

  const cr = tag => document.createElement(tag);

  const tbl = cr("table");
  const cand = ["田村康夫氏", "山岸みつる氏", "佐々木勝久氏"];
  q18.appendChild(tbl);
  const link = (url, txt) => {
    const a = cr("a");
    a.href = url;
    const span = cr("span");
    span.textContent = txt;
    a.appendChild(span);
    return a;
  };
  for (const q of data) {
    const tr = cr("tr");
    tbl.appendChild(tr);
    const th = cr("th");
    th.colSpan = 3;
    th.appendChild(link(q.URL, q.設問番号 + ". " + q.設問));
    tr.appendChild(th);
    const tr2 = cr("tr");
    tbl.appendChild(tr2);
    for (let i = 0; i < cand.length; i++) {
      const td = cr("td");
      const span1 = cr("span");
      span1.textContent = q[cand[i]] + "...後略（";
      td.appendChild(span1);
      td.appendChild(link(q.URL, cand[i]));
      const span2 = cr("span");
      span2.textContent = "）";
      td.appendChild(span2);
      tr2.appendChild(td);
    }
    /*
    //tr2.hidden = true;
    tr.ctrl = tr2;
    tr.onclick = function() {
      const tr2 = this.ctrl; // nextSibling;
      // tr2.style.height = tr2.style.height == "0px" ? "100px" : "0px";
      //tr2.style.visibility = tr2.style.height == "0px" ? "hidden" : "visible";
      tr2.hidden = !tr2.hidden;
    };
    */
  }
})();

</script>

<h2>投票する</h2>
<div id="pr">
「<a href=https://www.city.sabae.fukui.jp/about_city/senkyo/oshirase/Senkyo0120200925.html>指定投票所17箇所 10/4(日) 7:00-20:00</a>、<a href=https://www.city.sabae.fukui.jp/about_city/senkyo/oshirase/Senkyo-taisaku.files/0778532251.pdf>9-11時が混みそうです</a>」<br>
「<a href=https://www.city.sabae.fukui.jp/about_city/senkyo/oshirase/Senkyo0120200925.html xhref=https://www.city.sabae.fukui.jp/about_city/senkyo/Senkyo-kijtumae.html>期日前投票（きじつぜんとうひょう）、鯖江市役所 9/28(月)〜10/3(土) 8:30-20:00、アル・プラザ鯖江 9/30(水)〜10/3(土) 10:00-20:00</a>」<br>
「<a href=https://www.city.sabae.fukui.jp/about_city/senkyo/fuzaishatohyo/index.html>不在者投票（郵送必要なのでお早めに！）</a>」<br>
<div>

<div id="credit">
  <div>データ出展：CC BY <a href="https://push.sabae.cc/386">鯖江市長選2020オープンデータ</a> - <a href=https://push.sabae.cc/383>田村やすお</a>、<a href=https://push.sabae.cc/384>山岸みつる</a>、<a href=https://push.sabae.cc/385>佐々木勝久</a> （表明順）</div>
  <div>設問出典：<a href=https://ameblo.jp/ocsummit/>公開質問状 設問1〜18　ご回答 | OCサミット実行委員会</a><div>
  <div>アプリ：CC BY <a href=https://c4.sabae.cc/>Code for Sabae</a> (<a href=https://github.com/code4sabae/elec>src on GitHub</a>)</div>
</div>

<!--
<a href=https://docs.google.com/forms/d/e/1FAIpQLSfYwmAa_Lk832_25uEYiKg6chLHuypYUgF3fMpdalX6_hgBrg/viewform>
<img id=imgpr src="https://fukuno.jig.jp/img4/20200718/qforcandidate.png"><br>
「鯖江市長選立候補予定者に聞きたいことアンケート（2020鯖江市長選挙 公開討論会）」<br></a>
JK課からのおばちゃん(OC)課「OCサミット実行委員と有志の会」主催による公開討論会も8/22(土)に向け、事前質問を募集中。<br>
-->

</body>
</html>
